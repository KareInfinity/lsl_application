<div>
  <div *ngIf="is_loading; else content" class="mt-3">
    <gateway-loader></gateway-loader>
  </div>
  <ng-template #content>
    <ng-select
      appearance="outline"
      [items]="node_list"
      [(ngModel)]="auth_storage.people.attributes.facility_node"
      bindLabel="Name"
      placeholder="Facility"
      (change)="selectFacility()"
    >
      <ng-template
        ng-option-tmp
        let-item="item"
        let-index="index"
        let-search="searchTerm"
      >
        <div class="py-1 d-flex flex-column overflow-auto">
          <span class="p mb-1 p-0">{{item.node_name}}</span>
          <span class="small m-0 p-0">{{item.hierarchy_string}}</span>
        </div>
      </ng-template>
    </ng-select>
  </ng-template>
</div>
